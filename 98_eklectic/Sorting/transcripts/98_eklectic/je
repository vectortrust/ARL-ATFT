#!/bin/bash

# Update package list and install necessary packages
echo "Updating package list..."
sudo apt update
sudo apt install -y python3-pip python3-dev

# Install Pipenv
echo "Installing Pipenv..."
pip3 install --user pipenv

# Install JupyterLab globally
echo "Installing JupyterLab..."
pip3 install --user jupyterlab

# Create a directory for projects
PROJECT_DIR=~/projects
mkdir -p $PROJECT_DIR
cd $PROJECT_DIR

# Function to create a new environment and install Jupyter kernel
create_env() {
    ENV_NAME=$1
    echo "Creating virtual environment: $ENV_NAME"
    mkdir -p $ENV_NAME
    cd $ENV_NAME
    pipenv --python 3

    echo "Installing IPython kernel in $ENV_NAME"
    pipenv install ipykernel
    pipenv run python -m ipykernel install --user --name=$ENV_NAME --display-name "Python ($ENV_NAME)"

    cd ..
}

# Create environments (add more as needed)
create_env "math_env"
create_env "physics_env"

# Print completion message
echo "JupyterLab and environments are set up successfully!"
echo "You can start JupyterLab by running: jupyter lab"
